<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AeroVista Daily Brief — Wednesday, October 22, 2025</title>
<style>
  :root {
    --bg: #0c0f14;
    --panel: #121826;
    --ink: #e7eeff;
    --ink-dim: #a7b2cf;
    --accent: #77f6ff;
    --accent-2: #7d7bff;
    --good: #40c463;
    --warn: #ffcc66;
    --bad: #ff6b6b;
    --muted: #20273a;
    --ring: rgba(119, 246, 255, 0.25);
  }
  * { box-sizing: border-box; }
  body {
    margin: 0; background: radial-gradient(1200px 800px at 10% -10%, #101632 0%, var(--bg) 55%) fixed;
    color: var(--ink); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  }
  header {
    padding: 28px 20px 16px;
    background: linear-gradient(90deg, rgba(125,123,255,.35), rgba(119,246,255,.2) 60%, transparent);
    border-bottom: 1px solid #1a2336;
  }
  .wrap { max-width: 1100px; margin: 0 auto; padding: 20px; }
  h1 { margin: 0 0 6px; font-size: 26px; letter-spacing: .2px; }
  .sub { color: var(--ink-dim); font-size: 14px; }
  .toolbar { display:flex; flex-wrap:wrap; gap:10px; margin:16px 0 8px; align-items:center; }
  .toolbar input[type="text"] {
    flex: 1; min-width: 200px; padding: 10px 12px; border-radius: 12px; border:1px solid #1f2940; background:#0e1423; color:var(--ink);
    outline: none; box-shadow: 0 0 0 0 var(--ring);
  }
  .toolbar input[type="text"]:focus { box-shadow: 0 0 0 4px var(--ring); }
  .chip { padding:8px 12px; background: #0d1322; border:1px solid #202944; border-radius: 999px; color: var(--ink-dim); cursor:pointer; user-select:none; transition:.2s; }
  .chip.active { color:#10141f; background: linear-gradient(135deg, var(--accent), var(--accent-2)); border-color: transparent; }
  .btn {
    padding:10px 14px; border-radius:12px; background: linear-gradient(135deg, #1a2336, #111827);
    color:var(--ink); border:1px solid #26314f; cursor:pointer;
  }
  .btn:hover { border-color:#344873; }
  .grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap:14px; }
  .card {
    background: linear-gradient(180deg, #0e1525, #0b111d);
    border: 1px solid #1a2238; border-radius: 16px; padding: 14px; position: relative;
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
  }
  .card h3 { margin:0 0 8px; font-size: 17px; }
  .meta { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px; }
  .tag { font-size: 12px; padding: 4px 8px; border-radius: 999px; border:1px solid #2a3556; color:var(--ink-dim); }
  .tag.P1 { border-color: #3a547b; color:#cfe1ff; }
  .tag.P2 { border-color: #51427b; color:#dbcfff; }
  .tag.P3 { border-color: #3b6258; color:#d2ffef; }
  .status { position:absolute; right:12px; top:12px; font-size: 12px; color: #9bb0ff; text-transform: uppercase; letter-spacing: .4px; }
  .task { display:flex; align-items:flex-start; gap:10px; padding:8px 0; border-top:1px dashed #1b243a; }
  .task:first-of-type { border-top: none; }
  .task input[type="checkbox"] { width:18px; height:18px; accent-color: #74f0ff; margin-top: 2px; }
  .task .t-title { font-size:14px; line-height:1.35; }
  .task.done .t-title { text-decoration: line-through; color:#7b8ab0; }
  .task small { display:block; color:#8aa0d3; margin-top:4px; }
  .task .badge { display:inline-block; font-size:11px; padding:2px 8px; border-radius: 999px; border:1px solid #2b3658; margin-right:6px; color:#a7b2cf; }
  .notes { width:100%; margin-top:6px; background:#0b1222; border:1px solid #1f2940; color:var(--ink); border-radius:10px; padding:8px; font-size:12px; }
  .progress { margin: 10px 0 4px; height: 8px; background:#0c1221; border:1px solid #1c2742; border-radius:999px; overflow:hidden; }
  .progress > span { display:block; height:100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .3s; }
  section { margin: 26px 0; }
  .section-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
  .kpis { display:grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap:10px; }
  .kpi { background:#0f1627; border:1px solid #1a233a; border-radius:14px; padding:12px; }
  .kpi .val { font-size:20px; font-weight:700; }
  .pill { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:#0f172a; border:1px solid #1e2a4b; }
  .pill .dot { width:10px; height:10px; border-radius:50%; background:var(--good); }
  .muted { color:#97a7d5; font-size:13px; }
  footer { color:#8aa0d3; font-size:12px; padding: 20px; text-align:center; }
  .flex { display:flex; gap:10px; align-items:center; }
  .right { margin-left:auto; }
  .switch { display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none; }
  .switch input { width:38px; height:22px; appearance:none; background:#0e1423; border:1px solid #223056; border-radius:999px; position:relative; transition:.2s; }
  .switch input:checked { background:#183056; }
  .switch input::after { content:''; position:absolute; top:2px; left:2px; width:18px; height:18px; border-radius:50%; background:#7cf1ff; transition: .2s; }
  .switch input:checked::after { left:18px; }
</style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Daily Brief — Wednesday, October 22, 2025</h1>
      <div class="sub">AeroVista LLC • Interactive To‑Dos, Projects, and Rollout Milestones (local‑only, saved in your browser)</div>
      <div class="toolbar">
        <input id="search" type="text" placeholder="Search tasks, projects, tags…" />
        <div class="chip" data-chip="P1">P1</div>
        <div class="chip" data-chip="P2">P2</div>
        <div class="chip" data-chip="P3">P3</div>
        <div class="chip" data-chip="Backlog">Backlog</div>
        <label class="switch"><input type="checkbox" id="hideDone"><span class="muted">Hide completed tasks</span></label>
        <button class="btn" id="markP1">Mark visible P1 as done</button>
        <button class="btn" id="exportJson">Export JSON</button>
        <input type="file" id="importJson" style="display:none" accept="application/json" />
        <button class="btn" id="importBtn">Import JSON</button>
      </div>
      <div class="kpis" id="kpis"></div>
      <div class="flex" style="margin-top:10px;">
        <div class="pill"><span class="dot"></span><b>Completed digest</b>: <span id="completedDigest" class="muted">—</span></div>
        <div class="right muted">Tip: Your edits auto‑save to your browser (localStorage).</div>
      </div>
    </div>
  </header>

  <main class="wrap" id="content"></main>

  <footer>
    <p>Export JSON to back up or move to another device. Import will merge/replace your current state.</p>
  </footer>

<script>
const STORAGE_KEY = "av_daily_brief_data_v3";
const seed = {
  compiled: {"meta": {"generated": "Wednesday, October 22, 2025", "title": "AeroVista Daily Brief — Interactive", "owner": "AeroVista LLC (Timbr)"}, "projects": [{"id": "proj-mikee", "name": "Mikee Gray — Static Site Landing", "division": "Lumina Creative / Web", "status": "Active", "tags": ["Web", "GitHub", "Marketing"], "tasks": [{"id": "mk-landing", "title": "Create custom index.html landing (Tailwind, hero, about, video, sponsors, contact, footer)", "priority": "P1", "due": "Done", "notes": "", "done": true}, {"id": "mk-logos", "title": "Embed real sponsor logos (Signal, Big Bear, Union Binding, Wend)", "priority": "P1", "due": "Done", "notes": "", "done": true}, {"id": "mk-assets", "title": "Convert placeholder logos to local assets (PNG/GIF/WebP) and correct paths", "priority": "P1", "due": "Done", "notes": "\\MikeeGray\\assets\\logos\\...", "done": true}, {"id": "mk-links", "title": "Link all sponsor images to official websites", "priority": "P1", "due": "Done", "notes": "", "done": true}, {"id": "mk-git", "title": "Commit and push to aerovista-us/Mikee (master branch)", "priority": "P1", "due": "Done", "notes": "", "done": true}, {"id": "mk-pages", "title": "Enable GitHub Pages (master / root) and verify live URL", "priority": "P1", "due": "Done", "notes": "https://aerovista-us.github.io/Mikee/", "done": true}, {"id": "mk-readme", "title": "Add README.md with usage / credits", "priority": "P2", "due": "This Week", "notes": "Optional but recommended", "done": false}, {"id": "mk-visibility", "title": "Decide repo visibility (private requires GitHub Pro)", "priority": "P2", "due": "This Week", "notes": "Stay public or upgrade to keep Pages + private code", "done": false}, {"id": "mk-obfuscate", "title": "Soft-lock: Minify & inline HTML, remove README/LICENSE, watermark/password-gate if needed", "priority": "P3", "due": "Next", "notes": "", "done": false}, {"id": "mk-styling", "title": "Styling polish: hover effects, tooltips, responsive logo scaling", "priority": "P3", "due": "Next", "notes": "", "done": false}, {"id": "mk-zip", "title": "Create zipped deployable asset pack for backup/offline sharing", "priority": "P3", "due": "Next", "notes": "", "done": false}, {"id": "mk-analytics", "title": "Add privacy-friendly click tracking (e.g., Plausible)", "priority": "Backlog", "due": "Later", "notes": "", "done": false}, {"id": "mk-deploy-alt", "title": "Optional redeploy to Firebase/Netlify/NXCore for tighter control", "priority": "Backlog", "due": "Later", "notes": "", "done": false}]}, {"id": "proj-av-web", "name": "AeroVista Web (aerovista-us / aerovista-site)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P1", "Firebase", "Web"], "tasks": [{"id": "p1-billing", "title": "Approve org/folder/billing layout + budgets/alerts (R&D split)", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p1-auth", "title": "Confirm centralized Firebase Auth + authorized domains + custom-claims", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p1-functions", "title": "Deploy Firebase Functions Gen-2 (nodejs22, v2 imports) for aerovista-site after emulator pass", "priority": "P1", "due": "This Week", "notes": "See living doc for troubleshooting"}]}, {"id": "proj-rydesync", "name": "RydeSync-Next (service + web integration)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P1", "Redis", "Cloud Run"], "tasks": [{"id": "p1-routing", "title": "Decide routing for RydeSync (link-out vs reverse-proxy under aerovista.us)", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p1-redis", "title": "Approve Redis tier/region & budget thresholds for hot sync", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p2-av-rydesync", "title": "Week 1: Bring av-rydesync online (Cloud Run + Redis)", "priority": "P2", "due": "Week 1", "notes": ""}]}, {"id": "proj-portfolio", "name": "App Portfolio Consolidation (AeroDash, MindForge/BytePad)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P1", "P2"], "tasks": [{"id": "p1-aerodash-merge", "title": "Consolidate AeroDash versions; archive 'Broken/Prototype' after merge", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p1-rydesync-cutover", "title": "Complete RydeSync-Next; retire older simple server after cutover", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p1-standardize-names", "title": "Standardize MindForge/BytePad naming, scope, and packaging", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "p2-build-setups", "title": "Add build setups for AeroVista Dashboard, RideSync, Rydebeats-sync", "priority": "P2", "due": "This Week", "notes": ""}, {"id": "p2-views-docs", "title": "Document the shared 'Views' module", "priority": "P2", "due": "This Week", "notes": ""}]}, {"id": "proj-4wk", "name": "4-Week Rollout (Multi-project Architecture)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P2", "Planning"], "tasks": [{"id": "p2-week1", "title": "Week 1: Shared projects, budgets, DNS; central Auth; av-rydesync online", "priority": "P2", "due": "Week 1", "notes": ""}, {"id": "p2-week2", "title": "Week 2: Proxy/link integration from av-web; move room sync to Redis; harden RTDB", "priority": "P2", "due": "Week 2", "notes": ""}, {"id": "p2-week3", "title": "Week 3: Stand up division projects; subdomains; observability", "priority": "P2", "due": "Week 3", "notes": ""}, {"id": "p2-week4", "title": "Week 4: CSP/Cloud Armor; cost dashboards; playbooks; UAT + cutover", "priority": "P2", "due": "Week 4", "notes": ""}]}, {"id": "proj-n8n", "name": "n8n Automation Stack (self-hosted)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P1", "DevOps", "Infra"], "tasks": [{"id": "n8n-pack", "title": "Finalize install pack (Docker Compose: n8n + Postgres + Traefik/NGINX)", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "n8n-https", "title": "Enable HTTPS behind Tailscale / reverse proxy", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "n8n-seed", "title": "Prefill AeroVista/Nexus seed workflows (webhooks & schedulers)", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "n8n-features", "title": "Map free vs enterprise features & cost projection", "priority": "P1", "due": "This Week", "notes": ""}, {"id": "n8n-backups", "title": "Set up backups/cron & monitoring; document in SOP", "priority": "P1", "due": "This Week", "notes": ""}]}, {"id": "proj-aerocoreos", "name": "AeroCoreOS (desktop environment)", "division": "Nexus TechWorks", "status": "In Progress", "tags": ["P3"], "tasks": [{"id": "p3-cleanup", "title": "Biweekly: Archive broken versions; consolidate backup folders", "priority": "P3", "due": "Biweekly", "notes": ""}, {"id": "p3-security", "title": "Security hygiene across Electron/Node/P2P apps", "priority": "P3", "due": "Biweekly", "notes": ""}]}, {"id": "proj-ascension", "name": "Ascension Awaits (game project)", "division": "SkyForge Creative Studios", "status": "Backlog", "tags": ["Backlog"], "tasks": [{"id": "aa-ui", "title": "Stabilize gameplay UI screens; resolve recursion and asset path errors", "priority": "Backlog", "due": "Later", "notes": ""}]}]}
};

function loadState() {
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (!raw) return seed;
    const parsed = JSON.parse(raw);
    if (!parsed || !parsed.compiled || !parsed.compiled.projects) return seed;
    return parsed;
  } catch (e) {
    console.warn("State load failed, using seed.", e);
    return seed;
  }
}

function saveState(state) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
}

let state = loadState();

function render() {
  const root = document.getElementById('content');
  root.innerHTML = '';
  const filters = activeFilters();
  const query = document.getElementById('search').value.toLowerCase().trim();
  const hideDone = document.getElementById('hideDone').checked;

  const projs = state.compiled.projects;
  let totals = {p1:0, p1Done:0, all:0, done:0, completedList:[]};

  projs.forEach(p => {
    const hasChip = filters.length === 0 || filters.some(f => p.tags.includes(f));
    const inSearch = !query || (p.name.toLowerCase().includes(query) || p.tasks.some(t => t.title.toLowerCase().includes(query)));
    if (!hasChip || !inSearch) return;

    const card = document.createElement('div');
    card.className = 'card';

    const h = document.createElement('h3');
    h.textContent = p.name;
    card.appendChild(h);

    const status = document.createElement('div');
    status.className = 'status';
    status.textContent = p.status;
    card.appendChild(status);

    const meta = document.createElement('div');
    meta.className = 'meta';
    const divTag = document.createElement('span');
    divTag.className = 'tag';
    divTag.textContent = p.division;
    meta.appendChild(divTag);
    p.tags.forEach(t => {
      const tg = document.createElement('span');
      tg.className = 'tag ' + (t || '');
      tg.textContent = t;
      meta.appendChild(tg);
    });
    card.appendChild(meta);

    // Tasks
    let doneCount = 0;
    let totalCount = 0;
    p.tasks.forEach(t => {
      totalCount++;
      if (hideDone && t.done) return;

      const task = document.createElement('div');
      task.className = 'task' + (t.done ? ' done' : '');

      const cb = document.createElement('input');
      cb.type = 'checkbox';
      cb.checked = !!t.done;
      cb.addEventListener('change', () => {
        t.done = cb.checked;
        task.classList.toggle('done', t.done);
        t.doneAt = t.done ? new Date().toISOString() : null;
        saveState(state);
        renderKPIs();
        updateProgress(card, p);
        updateCompletedDigest();
      });
      task.appendChild(cb);

      const body = document.createElement('div');
      body.style.flex = '1';

      const title = document.createElement('div');
      title.className = 't-title';
      title.textContent = t.title;
      body.appendChild(title);

      const sub = document.createElement('small');
      sub.innerHTML = `<span class="badge">${t.priority}</span><span class="badge">Due: ${t.due}</span>`;
      body.appendChild(sub);

      if (t.notes !== undefined) {
        const notes = document.createElement('textarea');
        notes.className = 'notes';
        notes.placeholder = 'Notes…';
        notes.value = t.notes || '';
        notes.addEventListener('input', () => { t.notes = notes.value; saveState(state); });
        body.appendChild(notes);
      }

      task.appendChild(body);
      card.appendChild(task);

      if (t.priority === 'P1') totals.p1++;
      if (t.priority === 'P1' && t.done) totals.p1Done++;
      if (t.done) { doneCount++; totals.completedList.push(t.title); }
    });

    totals.all += totalCount;
    totals.done += doneCount;

    // Progress
    const prog = document.createElement('div');
    prog.className = 'progress';
    const bar = document.createElement('span');
    prog.appendChild(bar);
    card.appendChild(prog);
    root.appendChild(card);
    updateProgress(card, p);
  });

  renderKPIs(totals);
  updateCompletedDigest(totals.completedList);
}

function updateProgress(card, project) {
  const tasks = project.tasks;
  const done = tasks.filter(t => t.done).length;
  const total = tasks.length || 1;
  const pct = Math.round((done / total) * 100);
  const bar = card.querySelector('.progress > span');
  bar.style.width = pct + '%';
  bar.title = pct + '% complete';
}

function renderKPIs(override) {
  const k = document.getElementById('kpis');
  let totals = override;
  if (!totals) {
    totals = {p1:0, p1Done:0, all:0, done:0};
    state.compiled.projects.forEach(p => p.tasks.forEach(t => {
      if (t.priority === 'P1') totals.p1++;
      if (t.priority === 'P1' && t.done) totals.p1Done++;
      totals.all++; if (t.done) totals.done++;
    }));
  }
  const pctAll = Math.round((totals.done / (totals.all || 1)) * 100);
  const pctP1 = Math.round((totals.p1Done / (totals.p1 || 1)) * 100);

  k.innerHTML = `
    <div class="kpi"><div class="label">Overall Completion</div><div class="val">${pctAll}%</div></div>
    <div class="kpi"><div class="label">P1 Completion</div><div class="val">${pctP1}%</div></div>
    <div class="kpi"><div class="label">Projects</div><div class="val">${state.compiled.projects.length}</div></div>
    <div class="kpi"><div class="label">Date</div><div class="val">Wednesday, October 22, 2025</div></div>
  `;
}

function updateCompletedDigest(list) {
  const el = document.getElementById('completedDigest');
  if (!list) {
    list = [];
    state.compiled.projects.forEach(p => p.tasks.forEach(t => t.done && list.push(t.title)));
  }
  if (list.length === 0) { el.textContent = 'No tasks completed yet.'; return; }
  const lastFive = list.slice(-5);
  el.textContent = lastFive.join(' • ');
}

function activeFilters() {
  return Array.from(document.querySelectorAll('.chip.active')).map(c => c.dataset.chip);
}

document.addEventListener('click', (e) => {
  const c = e.target.closest('.chip');
  if (c) { c.classList.toggle('active'); render(); }
});

document.getElementById('search').addEventListener('input', render);
document.getElementById('hideDone').addEventListener('change', render);

document.getElementById('markP1').addEventListener('click', () => {
  state.compiled.projects.forEach(p => p.tasks.forEach(t => {
    const chips = activeFilters();
    const visible = chips.length === 0 || chips.some(f => p.tags.includes(f));
    if (t.priority === 'P1' && visible) t.done = true;
  }));
  saveState(state);
  render();
});

document.getElementById('exportJson').addEventListener('click', () => {
  const blob = new Blob([JSON.stringify(state, null, 2)], {type: "application/json"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = "av_daily_brief_export.json";
  a.click();
  URL.revokeObjectURL(url);
});

document.getElementById('importBtn').addEventListener('click', () => document.getElementById('importJson').click());
document.getElementById('importJson').addEventListener('change', (evt) => {
  const f = evt.target.files[0];
  if (!f) return;
  const r = new FileReader();
  r.onload = () => {
    try {
      const imp = JSON.parse(r.result);
      if (!imp || !imp.compiled) throw new Error("Unrecognized format");
      state = imp;
      saveState(state);
      render();
      alert("Import successful.");
    } catch (e) {
      alert("Import failed: " + e.message);
    }
  };
  r.readAsText(f);
});

render();
</script>
</body>
</html>
